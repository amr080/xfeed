(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{65655:function(e,n,t){"use strict";t.r(n);var s=t(85893),r=t(87757),a=t.n(r),i=t(92137),u=t(67294),c=t(336),o=t(48017),l=t(27302),f=t(56185),m=t(64115),d=t(29583),x=t(588),h=t(82356),p=t(63533),E=t(26705),g=new Intl.NumberFormat("en-us",{minimumFractionDigits:4,maximumFractionDigits:4});n.default=function(){var e=(0,u.useState)(""),n=e[0],t=e[1],r=(0,u.useState)(),v=r[0],w=r[1],_=(0,p.c)(E.xo.ApiConsumer),j=(0,d.j)(_,"requestVolumeData",{transactionName:"External API Request"}),k=j.send,C=j.state,b=j.events,N=(0,u.useCallback)((0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:w(null);case 3:case"end":return e.stop()}}),e)}))),[k]),F=(0,u.useCallback)((0,i.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.volume();case 2:n=e.sent,w(n);case 4:case"end":return e.stop()}}),e)}))),[_]);(0,u.useEffect)((function(){if(b){var e=b.find((function(e){return"ChainlinkRequested"===e.name}));e&&t(e.args.id)}}),[b]),(0,u.useEffect)((function(){_&&n&&_.on("ChainlinkFulfilled",(function(e){n===e&&(F(),_.removeAllListeners())}))}),[_,n,F]);var q,A,M="Mining"===C.status||"Success"===C.status&&!v,S="Exception"===C.status;return(0,s.jsxs)(h.A,{children:[(0,s.jsx)(c.X,{as:"h1",mb:"8",children:"External API"}),(0,s.jsxs)(o.xu,{maxWidth:"container.sm",p:"8",mt:"8",bg:"gray.100",children:[S&&(0,s.jsxs)(l.bZ,{status:"error",mb:"4",children:[(0,s.jsx)(l.zM,{}),(0,s.jsx)(l.Cd,{mr:2,children:"Error:"}),(0,s.jsx)(l.X,{children:C.errorMessage})]}),(0,s.jsx)(c.X,{as:"h2",size:"md",mb:"4",children:"Volume data from CryptoCompare API"}),(0,s.jsx)(f.z,{onClick:N,isLoading:M,loadingText:(A=C.status,"Mining"===A?"Mining Request":"Success"===A&&"Fulfilling Request"),colorScheme:"teal",children:"New Oracle Request"}),v&&(0,s.jsxs)(m.x,{fontSize:"xl",mt:"2",children:["ETH VOLUME 24H: ",(q=v,g.format(parseFloat(x.dF(q))))]})]})]})}},83891:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/external-api",function(){return t(65655)}])}},function(e){e.O(0,[774,238,227,888,179],(function(){return n=83891,e(e.s=n);var n}));var n=e.O();_N_E=n}]);