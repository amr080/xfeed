(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{7398:function(e,n,t){"use strict";t.d(n,{u:function(){return j}});var r=t(1662),i=t(6871),s=t(8668),a=t(9703),o=t(1358),c=t(2515),l=t(4332),u=t(7294),d=t(7375),f=t(6450);function p(){return(p=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function h(e,n){if(null==e)return{};var t,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}var m={exit:{scale:.85,opacity:0,transition:{opacity:{duration:.15,easings:"easeInOut"},scale:{duration:.2,easings:"easeInOut"}}},enter:{scale:1,opacity:1,transition:{opacity:{easings:"easeOut",duration:.2},scale:{duration:.2,ease:[.175,.885,.4,1.1]}}}},x=["openDelay","closeDelay","closeOnClick","closeOnMouseDown","onOpen","onClose","placement","id","isOpen","defaultIsOpen","arrowSize","arrowShadowColor","arrowPadding","modifiers","isDisabled","gutter","offset","direction"];var g=["children","label","shouldWrapChildren","aria-label","hasArrow","bg","portalProps"],v=(0,s.m$)(c.E.div),j=(0,s.Gp)((function(e,n){var t=(0,s.mq)("Tooltip",e),c=(0,s.Lr)(e),j=(0,s.Fg)(),w=c.children,b=c.label,y=c.shouldWrapChildren,O=c["aria-label"],k=c.hasArrow,C=c.bg,S=c.portalProps,E=h(c,g);C&&(t.bg=C,t[r.j.arrowBg.var]=(0,a.K1)(j,"colors",C));var P,R=function(e){void 0===e&&(e={});var n=e,t=n.openDelay,i=void 0===t?0:t,s=n.closeDelay,o=void 0===s?0:s,c=n.closeOnClick,l=void 0===c||c,m=n.closeOnMouseDown,g=n.onOpen,v=n.onClose,j=n.placement,w=n.id,b=n.isOpen,y=n.defaultIsOpen,O=n.arrowSize,k=void 0===O?10:O,C=n.arrowShadowColor,S=n.arrowPadding,E=n.modifiers,P=n.isDisabled,R=n.gutter,M=n.offset,T=n.direction,I=h(n,x),N=(0,d.qY)({isOpen:b,defaultIsOpen:y,onOpen:g,onClose:v}),F=N.isOpen,D=N.onOpen,_=N.onClose,z=(0,r.D)({enabled:F,placement:j,arrowPadding:S,modifiers:E,gutter:R,offset:M,direction:T}),q=z.referenceRef,A=z.getPopperProps,U=z.getArrowInnerProps,W=z.getArrowProps,K=(0,d.Me)(w,"tooltip"),L=u.useRef(null),V=u.useRef(),G=u.useRef(),H=u.useCallback((function(){P||(V.current=window.setTimeout(D,i))}),[P,D,i]),Z=u.useCallback((function(){V.current&&clearTimeout(V.current),G.current=window.setTimeout(_,o)}),[o,_]),$=u.useCallback((function(){l&&Z()}),[l,Z]),X=u.useCallback((function(){m&&Z()}),[m,Z]),B=u.useCallback((function(e){F&&"Escape"===e.key&&Z()}),[F,Z]);(0,d.OR)("keydown",B),u.useEffect((function(){return function(){clearTimeout(V.current),clearTimeout(G.current)}}),[]),(0,d.OR)("mouseleave",Z,(function(){return L.current}));var Y=u.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),p({},e,{ref:(0,f.lq)(L,n,q),onMouseEnter:(0,a.v0)(e.onMouseEnter,H),onClick:(0,a.v0)(e.onClick,$),onMouseDown:(0,a.v0)(e.onMouseDown,X),onFocus:(0,a.v0)(e.onFocus,H),onBlur:(0,a.v0)(e.onBlur,Z),"aria-describedby":F?K:void 0})}),[H,Z,X,F,K,$,q]),J=u.useCallback((function(e,n){var t;return void 0===e&&(e={}),void 0===n&&(n=null),A(p({},e,{style:p({},e.style,(t={},t[r.j.arrowSize.var]=k?(0,a.px)(k):void 0,t[r.j.arrowShadowColor.var]=C,t))}),n)}),[A,k,C]),Q=u.useCallback((function(e,n){return void 0===e&&(e={}),void 0===n&&(n=null),p({ref:n},I,e,{id:K,role:"tooltip",style:p({},e.style,{position:"relative",transformOrigin:r.j.transformOrigin.varRef})})}),[I,K]);return{isOpen:F,show:H,hide:Z,getTriggerProps:Y,getTooltipProps:Q,getTooltipPositionerProps:J,getArrowProps:W,getArrowInnerProps:U}}(p({},E,{direction:j.direction}));if((0,a.HD)(w)||y)P=u.createElement(s.m$.span,p({tabIndex:0},R.getTriggerProps()),w);else{var M=u.Children.only(w);P=u.cloneElement(M,R.getTriggerProps(M.props,M.ref))}var T=!!O,I=R.getTooltipProps({},n),N=T?(0,a.CE)(I,["role","id"]):I,F=(0,a.ei)(I,["role","id"]);return b?u.createElement(u.Fragment,null,P,u.createElement(l.M,null,R.isOpen&&u.createElement(i.h_,S,u.createElement(s.m$.div,p({},R.getTooltipPositionerProps(),{__css:{zIndex:t.zIndex,pointerEvents:"none"}}),u.createElement(v,p({variants:m},N,{initial:"exit",animate:"enter",exit:"exit",__css:t}),b,T&&u.createElement(o.TX,F,O),k&&u.createElement(s.m$.div,{"data-popper-arrow":!0,className:"chakra-tooltip__arrow-wrapper"},u.createElement(s.m$.div,{"data-popper-arrow-inner":!0,className:"chakra-tooltip__arrow",__css:{bg:t.bg}}))))))):u.createElement(u.Fragment,null,w)}));a.Ts&&(j.displayName="Tooltip")},9545:function(e,n,t){"use strict";t.d(n,{j:function(){return u}});var r=t(5528),i=t(7294),s=t(7495),a=t(8102),o=t(3453),c=t(1581);function l(e,n){const[t,r]=(0,i.useState)({status:"None"}),{addTransaction:s}=(0,a.W)(),{addNotification:l}=(0,o.l)();return{promiseTransaction:(0,i.useCallback)((async t=>{var i,a,o,u,d,f;if(!e)return;let p;try{p=await t,r({transaction:p,status:"Mining",chainId:e}),s({transaction:Object.assign(Object.assign({},p),{chainId:e}),submittedAt:Date.now(),transactionName:null===n||void 0===n?void 0:n.transactionName});const i=await p.wait();return r({receipt:i,transaction:p,status:"Success",chainId:e}),i}catch(h){const n=null!==(d=null!==(o=null!==(a=null===(i=h.error)||void 0===i?void 0:i.message)&&void 0!==a?a:h.reason)&&void 0!==o?o:null===(u=h.data)||void 0===u?void 0:u.message)&&void 0!==d?d:h.message;if(p){if((e=>(null===e||void 0===e?void 0:e.code)===c.jK.TRANSACTION_REPLACED&&(null===e||void 0===e?void 0:e.replacement)&&("repriced"===(null===e||void 0===e?void 0:e.reason)||!1===(null===e||void 0===e?void 0:e.cancelled)))(h)){const t=0===h.receipt.status?"Fail":"Success";l({notification:{type:"Fail"===t?"transactionFailed":"transactionSucceed",submittedAt:Date.now(),transaction:h.replacement,receipt:h.receipt,transactionName:null===(f=h.replacement)||void 0===f?void 0:f.transactionName,originalTransaction:p},chainId:e}),r({status:t,transaction:h.replacement,originalTransaction:p,receipt:h.receipt,errorMessage:n,chainId:e})}else r({status:"Fail",transaction:p,receipt:h.receipt,errorMessage:n,chainId:e})}else r({status:"Exception",errorMessage:n,chainId:e});return}}),[e,r,s,n]),state:t}}function u(e,n,t){const{library:a,chainId:o}=(0,s.K)(),{promiseTransaction:c,state:u}=l(o,t),[d,f]=(0,i.useState)(void 0);return{send:(0,i.useCallback)((async(...i)=>{const s=function(e,n,t){if(e.signer)return e;if(null===n||void 0===n?void 0:n.signer)return e.connect(n.signer);if(null===t||void 0===t?void 0:t.getSigner())return e.connect(t.getSigner());throw new TypeError("No signer available in contract, options or library")}(e,t,a),o=await c(s[n](...i));if(null===o||void 0===o?void 0:o.logs){const n=o.logs.reduce(((n,t)=>{try{return(0,r.Q)(t.address,e.address)?[...n,e.interface.parseLog(t)]:n}catch(i){return n}}),[]);f(n)}}),[e,n,t,a]),state:u,events:d}}},325:function(e,n,t){"use strict";t.d(n,{j:function(){return s}});t(7294);var r=t(1213),i=t(5893);function s(e){var n=e.message;return(0,i.jsxs)(r.bZ,{status:"error",mb:"8",children:[(0,i.jsx)(r.zM,{}),(0,i.jsx)(r.Cd,{mr:2,children:"Error:"}),(0,i.jsx)(r.X,{children:n})]})}},7179:function(e,n,t){"use strict";t.d(n,{Ar:function(){return q},$0:function(){return U}});var r=t(5115),i=t(4651),s=t(5419),a=t(5193),o=t(1213),c=t(7495),l=t(6977),u=t(7809),d=t.n(u),f=t(1664),p=t(7294),h=t(2020),m=t(8360),x=t(1744),g=t(5893);function v(){var e=(0,c.K)().account,n=(0,m.M)(e),t=n?x.dF(n):"";return(0,g.jsxs)(r.xv,{children:[t," ETH"]})}var j=t(7375),w=t(4023),b=t(3929),y="7b516e5f9bca4abc8f07170d1f0a6cae",O={1:"https://mainnet.infura.io/v3/".concat(y),4:"https://rinkeby.infura.io/v3/".concat(y),42:"https://kovan.infura.io/v3/".concat(y)},k=new b.zw({rpc:{1:O[1],4:O[4],42:O[42]},qrcode:!0});function C(){var e=(0,c.K)(),n=e.activate,t=e.activateBrowserWallet,s=(0,j.qY)(),o=s.onOpen,l=s.isOpen,u=s.onClose;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.xu,{order:[-1,null,null,2],textAlign:["left",null,null,"right"],children:(0,g.jsx)(a.zx,{colorScheme:"teal",variant:"outline",onClick:o,children:"Connect to a wallet"})}),(0,g.jsxs)(w.u_,{isOpen:l,onClose:u,children:[(0,g.jsx)(w.ZA,{}),(0,g.jsxs)(w.hz,{children:[(0,g.jsx)(w.xB,{children:"Connect to a wallet"}),(0,g.jsx)(w.ol,{}),(0,g.jsxs)(w.fe,{children:[(0,g.jsx)(a.zx,{justifyContent:"space-between",width:"100%",mb:"4",size:"lg",variant:"outline",rightIcon:(0,g.jsx)(i.Ee,{maxWidth:"20px",src:"/images/logo-metamask.png",alt:"MetaMask"}),onClick:function(){t(),u()},children:"MetaMask"}),(0,g.jsx)(a.zx,{justifyContent:"space-between",width:"100%",mb:"4",size:"lg",variant:"outline",rightIcon:(0,g.jsx)(i.Ee,{maxWidth:"20px",src:"/images/logo-walletconnect.svg",alt:"WalletConnect"}),onClick:function(){n(k)},children:"WalletConnect"})]})]})]})]})}var S=t(4942),E=t(9008),P=t(1163);function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var M="https://chainlink-demo.app",T=function(e){var n=e.customMeta,t=(0,P.useRouter)(),r=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){(0,S.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({title:"Chainlink Demo App",description:"Full stack starter project showcasing Chainlink products on Ethereum",image:"".concat(M,"/images/social-preview.png"),type:"website"},n);return(0,g.jsxs)(E.default,{children:[(0,g.jsx)("title",{children:r.title}),(0,g.jsx)("meta",{content:r.description,name:"description"}),(0,g.jsx)("meta",{property:"og:url",content:"".concat(M).concat(t.asPath)}),(0,g.jsx)("link",{rel:"canonical",href:"".concat(M).concat(t.asPath)}),(0,g.jsx)("meta",{property:"og:type",content:r.type}),(0,g.jsx)("meta",{property:"og:site_name",content:r.title}),(0,g.jsx)("meta",{property:"og:description",content:r.description}),(0,g.jsx)("meta",{property:"og:title",content:r.title}),(0,g.jsx)("meta",{property:"og:image",content:r.image}),(0,g.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,g.jsx)("meta",{name:"twitter:site",content:"@chainlink"}),(0,g.jsx)("meta",{name:"twitter:title",content:r.title}),(0,g.jsx)("meta",{name:"twitter:description",content:r.description}),(0,g.jsx)("meta",{name:"twitter:image",content:r.image})]})},I=t(4298),N=t(6313),F=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(I.default,{src:"https://www.googletagmanager.com/gtag/js?id=".concat(N.No),strategy:"afterInteractive"}),(0,g.jsx)(I.default,{id:"google-analytics",strategy:"afterInteractive",children:"\n          window.dataLayer = window.dataLayer || [];\n          function gtag(){window.dataLayer.push(arguments);}\n          gtag('js', new Date());\n\n          gtag('config', '".concat(N.No,"');\n        ")})]})},D=t(325),_={transactionStarted:"Started",transactionSucceed:"Completed"};function z(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:38;return e.replace(e.substring(6,n),"...")}var q=function(e){var n,t=e.children,u=e.customMeta,m=(0,c.K)(),x=m.account,j=m.deactivate,w=m.error,b=m.setError,y=(0,l.z)().notifications;return(0,p.useEffect)((function(){w&&b(w)}),[w,b]),n=d().create({seed:x}).toDataURL(),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(T,{customMeta:u}),(0,g.jsx)("header",{children:(0,g.jsx)(r.W2,{maxWidth:"container.xl",children:(0,g.jsxs)(r.MI,{columns:[1,1,1,2],alignItems:"center",justifyContent:"space-between",py:"8",children:[(0,g.jsxs)(r.kC,{py:[4,null,null,0],children:[(0,g.jsx)(f.default,{href:"/",passHref:!0,children:(0,g.jsx)(r.rU,{px:"4",py:"1",children:"Home"})}),(0,g.jsx)(f.default,{href:"/feeds",passHref:!0,children:(0,g.jsx)(r.rU,{px:"4",py:"1",children:"Data Feeds"})}),(0,g.jsx)(f.default,{href:"/vrf",passHref:!0,children:(0,g.jsx)(r.rU,{px:"4",py:"1",children:"Randomness"})}),(0,g.jsx)(f.default,{href:"/external-api",passHref:!0,children:(0,g.jsx)(r.rU,{px:"4",py:"1",children:"External API"})})]}),x?(0,g.jsxs)(r.kC,{order:[-1,null,null,2],alignItems:"center",justifyContent:["flex-start",null,null,"flex-end"],children:[(0,g.jsx)(v,{}),(0,g.jsx)(i.Ee,{ml:"4",src:n,alt:"blockie"}),(0,g.jsxs)(s.v2,{placement:"bottom-end",children:[(0,g.jsx)(s.j2,{as:a.zx,ml:"4",children:z(x)}),(0,g.jsx)(s.qy,{children:(0,g.jsx)(s.sN,{onClick:function(){j()},children:"Disconnect"})})]})]}):(0,g.jsx)(C,{})]})})}),(0,g.jsxs)("main",{children:[(0,g.jsxs)(r.W2,{maxWidth:"container.xl",children:[w&&(0,g.jsx)(D.j,{message:(0,h.e$)(w)}),t,y.map((function(e){return"walletConnected"===e.type?null:(0,g.jsxs)(o.bZ,{status:"success",position:"fixed",bottom:"8",right:"8",width:"400px",children:[(0,g.jsx)(o.zM,{}),(0,g.jsxs)(r.xu,{children:[(0,g.jsxs)(o.Cd,{children:[e.transactionName," ",_[e.type]]}),(0,g.jsxs)(o.X,{overflow:"hidden",children:["Transaction Hash:"," ",z(e.transaction.hash,61)]})]})]},e.id)}))]}),(0,g.jsx)(F,{})]}),(0,g.jsx)("footer",{children:(0,g.jsx)(r.W2,{mt:"8",py:"8",maxWidth:"container.xl",children:(0,g.jsx)(r.rU,{href:"https://github.com/hackbg/chainlink-fullstack",isExternal:!0,children:(0,g.jsxs)(r.Ug,{children:[(0,g.jsx)(i.Ee,{src:"images/github.svg",width:"20px"}),(0,g.jsx)(r.xv,{children:"GitHub"})]})})})})]})};function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var U=function(e){return(0,g.jsx)(r.xu,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach((function(n){(0,S.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({maxWidth:"container.sm",p:"8",mt:"8",bg:"gray.100"},e))}},3473:function(e,n,t){"use strict";t.d(n,{c:function(){return o}});var r=t(7495),i=t(4146),s=t(7294),a=t(9680);function o(e){var n=(0,r.K)().library,t=(0,a.X)(e);return(0,s.useMemo)((function(){return n&&null!==t&&void 0!==t&&t.address?new i.CH(t.address,t.abi,n.getSigner()):null}),[t,n])}},9680:function(e,n,t){"use strict";t.d(n,{X:function(){return s}});var r=t(7495),i=t(5829);function s(e){var n,t,s=(0,r.K)().chainId;return s&&i[s]&&(null===(n=Object.values(i[s]).find((function(e){return e.chainId===String(s)})))||void 0===n||null===(t=n.contracts)||void 0===t?void 0:t[e])}},2020:function(e,n,t){"use strict";t.d(n,{e$:function(){return o},Sx:function(){return c},jl:function(){return u},gC:function(){return f},Yg:function(){return p}});var r=t(2236),i=t(157),s=t(950),a=t(3929);function o(e){return e instanceof s.A5?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof i.Uu?"You're connected to an unsupported network. Please switch to Kovan or Rinkeby.":e instanceof s.ab||e instanceof a.ab?"Please authorize this website to access your Ethereum account.":(console.error(e),"An unknown error occurred. Check the console for more details.")}function c(e){return e.includes("The execution failed due to an exception.")?"".concat(e," Please check if the contract has enough LINK to pay the oracle."):e}var l=new r.F("Bitcoin","BTC",8,{fixedPrecisionDigits:2,useFixedPrecision:!0}),u=function(e){return l.format(e.toString())},d=new r.W6("United States Dollar","USD",8,{fixedPrecisionDigits:2}),f=function(e){return d.format(e.toString())},p=function(e){return"Mining"===e?"Mining Request":"Success"===e&&"Fulfilling Request"}},3169:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(7294),i=t(5115),s=t(1277),a=t(7179),o=t(5861),c=t(7757),l=t.n(c),u=t(5193),d=t(7495),f=t(9545),p=t(2020),h=t(3473),m=t(325),x=t(5893);function g(){var e=(0,d.K)().account,n=(0,r.useState)(""),t=n[0],s=n[1],a=(0,r.useState)(""),c=a[0],g=a[1],v=(0,h.c)("RandomNumberConsumer"),j=(0,f.j)(v,"getRandomNumber",{transactionName:"Randomness Request"}),w=j.send,b=j.state,y=j.events,O=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:g("");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=(0,r.useCallback)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.randomResult();case 2:n=e.sent,g(String(n));case 4:case"end":return e.stop()}}),e)}))),[v]);(0,r.useEffect)((function(){if(y){var e=y.find((function(e){return"RequestedRandomness"===e.name}));e&&s(e.args.requestId)}}),[y]),(0,r.useEffect)((function(){v&&t&&v.on("FulfilledRandomness",(function(e){t===e&&(k(),v.removeAllListeners())}))}),[v,t,k]);var C="Mining"===b.status||"Success"===b.status&&!c,S="Exception"===b.status;return(0,x.jsxs)(x.Fragment,{children:[S&&(0,x.jsx)(m.j,{message:(0,p.Sx)(b.errorMessage)}),(0,x.jsx)(u.zx,{onClick:O,isLoading:C,loadingText:(0,p.Yg)(b.status),colorScheme:"teal",disabled:C||!e,children:"Request Randomness"}),c&&(0,x.jsxs)(i.Kq,{spacing:2,mt:4,children:[(0,x.jsx)(i.xv,{fontSize:"xl",children:"Result"}),(0,x.jsx)(i.EK,{size:"xs",colorScheme:"red",children:c})]})]})}var v=t(7398),j=t(4651),w=t(9680),b=t(6313);function y(e){var n=e.tokenId,t=(0,d.K)().chainId,r=(0,w.X)("RandomSVG"),a=t===b.dC,o=a?"".concat(b.v1,"/assets/").concat(r.address,"/").concat(n):void 0;return(0,x.jsxs)(i.Ug,{children:[(0,x.jsxs)(i.rU,{href:o,isExternal:!0,children:["See on OpenSea Testnet Marketplace ",(0,x.jsx)(s.h0,{mx:"2px"})]}),!a&&(0,x.jsx)(i.Ct,{children:"Rinkeby Only"})]})}function O(){var e=(0,d.K)().account,n=(0,r.useState)(!1),t=n[0],s=n[1],a=(0,r.useState)(!1),c=a[0],g=a[1],w=(0,r.useState)(),b=w[0],O=w[1],k=(0,r.useState)(),C=k[0],S=k[1],E=(0,h.c)("RandomSVG"),P=(0,f.j)(E,"create",{transactionName:"NFT Request"}),R=P.send,M=P.state,T=P.events,I=(0,f.j)(E,"finishMint",{transactionName:"NFT Mint Finish"}),N=I.send,F=I.state,D=I.events,_=function(){var e=(0,o.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:O(void 0),g(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=(0,r.useCallback)((0,o.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.tokenURI(b);case 2:return n=e.sent,e.abrupt("return",(t=n,JSON.parse(atob(t.split(",")[1]))));case 4:case"end":return e.stop()}var t}),e)}))),[E,b]);(0,r.useEffect)((function(){if(T){var e=T.find((function(e){return"requestedRandomSVG"===e.name}));e&&O(e.args.tokenId)}}),[T]),(0,r.useEffect)((function(){E&&b&&E.on("CreatedUnfinishedRandomSVG",(function(e){b.eq(e)&&(g(!0),s(!0),E.removeAllListeners())}))}),[E,b]),(0,r.useEffect)((function(){D&&D.find((function(e){return"CreatedRandomSVG"===e.name}))&&z().then((function(e){S(e),s(!1)}))}),[D,z]);var q="Mining"===M.status||"Success"===M.status&&!c,A="Mining"===F.status||"Success"===F.status&&!C,U="Exception"===M.status||"Exception"===F.status,W=M.errorMessage||F.errorMessage;return(0,x.jsxs)(x.Fragment,{children:[U&&(0,x.jsx)(m.j,{message:(0,p.Sx)(W)}),!t&&(0,x.jsx)(v.u,{label:"Request random number and mint new NFT associated with the result",placement:"right-start",fontSize:"xs",hasArrow:!0,children:(0,x.jsx)(u.zx,{onClick:_,isLoading:q,loadingText:(0,p.Yg)(M.status),colorScheme:"teal",disabled:q||!e,children:C?"Request New NFT":"Request NFT"})}),t&&(0,x.jsx)(v.u,{label:"Use the random number from first step to generate unique SVG and store it as on-chain NFT metadata",placement:"right-start",fontSize:"xs",defaultIsOpen:!0,hasArrow:!0,children:(0,x.jsx)(u.zx,{onClick:function(){return N(b)},isLoading:A,loadingText:"Finishing Minting",colorScheme:"teal",disabled:A||!e,children:"Finish Minting"})}),C&&(0,x.jsxs)(i.Kq,{spacing:2,mt:4,children:[(0,x.jsx)(i.xv,{fontSize:"xl",children:"Result"}),(0,x.jsx)(j.Ee,{src:C.image,alt:"Random SVG",boxSize:"360px",backgroundColor:"white",borderRadius:"lg",mt:"8"}),(0,x.jsx)(y,{tokenId:b})]})]})}var k=function(){return(0,x.jsxs)(a.Ar,{children:[(0,x.jsx)(i.X6,{as:"h1",mb:"4",children:"Randomness"}),(0,x.jsx)(i.xv,{fontSize:"xl",children:"Use VRF (Verifiable Random Function) to consume randomness in your smart contracts."}),(0,x.jsxs)(a.$0,{children:[(0,x.jsx)(g,{}),(0,x.jsx)(i.xv,{my:"4",children:"With every new request for randomness, Chainlink VRF generates a random number and cryptographic proof of how that number was determined. VRF enables smart contracts to access randomness without compromising on security or usability."}),(0,x.jsxs)(i.rU,{href:"https://docs.chain.link/docs/get-a-random-number",isExternal:!0,children:["Learn More ",(0,x.jsx)(s.h0,{mx:"2px"})]})]}),(0,x.jsxs)(a.$0,{children:[(0,x.jsx)(O,{}),(0,x.jsx)(i.xv,{my:"4",children:"100% on-chain generated NFT using VRF as randomness source. Each request creates and stores an unique Scalable Vector Graphic (SVG)."}),(0,x.jsxs)(i.rU,{href:"https://chain.link/education/nfts",isExternal:!0,children:["Learn More ",(0,x.jsx)(s.h0,{mx:"2px"})]})]})]})}},5633:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vrf",function(){return t(3169)}])},5861:function(e,n,t){"use strict";function r(e,n,t,r,i,s,a){try{var o=e[s](a),c=o.value}catch(l){return void t(l)}o.done?n(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(i,s){var a=e.apply(n,t);function o(e){r(a,i,s,o,c,"next",e)}function c(e){r(a,i,s,o,c,"throw",e)}o(void 0)}))}}t.d(n,{Z:function(){return i}})}},function(e){e.O(0,[211,774,888,179],(function(){return n=5633,e(e.s=n);var n}));var n=e.O();_N_E=n}]);