(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{63342:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return _}});var r=t(85893),a=t(67294),s=t(336),i=t(64115),c=t(49444),u=t(52072),o=t(57495),l=t(46267),f=t(87757),h=t.n(f),d=t(92137),m=t(56185),x=t(29583),p=t(588),v=t(63533),g=t(26705),j=t(74083),k=new Intl.NumberFormat("en-us",{minimumFractionDigits:4,maximumFractionDigits:4});function w(){var e=(0,a.useState)(""),n=e[0],t=e[1],s=(0,a.useState)(),c=s[0],u=s[1],o=(0,v.c)(g.xo.ApiConsumer),l=(0,x.j)(o,"requestVolumeData",{transactionName:"External API Request"}),f=l.send,w=l.state,E=l.events,_=function(){var e=(0,d.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:u(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=(0,a.useCallback)((0,d.Z)(h().mark((function e(){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.volume();case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)}))),[o]);(0,a.useEffect)((function(){if(E){var e=E.find((function(e){return"ChainlinkRequested"===e.name}));e&&t(e.args.id)}}),[E]),(0,a.useEffect)((function(){o&&n&&o.on("ChainlinkFulfilled",(function(e){n===e&&(C(),o.removeAllListeners())}))}),[o,n,C]);var b,q,y="Mining"===w.status||"Success"===w.status&&!c,P="Exception"===w.status;return(0,r.jsxs)(r.Fragment,{children:[P&&(0,r.jsx)(j.j,{message:w.errorMessage}),(0,r.jsx)(m.z,{onClick:_,isLoading:y,loadingText:(q=w.status,"Mining"===q?"Mining Request":"Success"===q&&"Fulfilling Request"),colorScheme:"teal",children:"Request External API"}),c&&(0,r.jsxs)(i.x,{fontSize:"xl",mt:"2",children:["ETH VOLUME 24H: ",(b=c,k.format(parseFloat(p.dF(b))))]})]})}var E=t(30677);var _=function(){var e=(0,o.K)().chainId;return(0,r.jsxs)(E.Ar,{children:[e===l.a_.Rinkeby&&(0,r.jsx)(j.j,{message:"Oracle on Rinkeby is in maintenance mode. Please switch to Kovan."}),(0,r.jsx)(s.X,{as:"h1",mb:"8",children:"External API"}),(0,r.jsx)(i.x,{fontSize:"xl",children:"Request & Receive data from any API in your smart contracts."}),(0,r.jsxs)(E.$0,{children:[(0,r.jsx)(w,{}),(0,r.jsx)(i.x,{my:"4",children:"Consume data from CryptoCompare API via HTTP GET request, through Chainlink's decentralized oracle network. It provides smart contracts with the ability to push and pull data, facilitating the interoperability between on-chain and off-chain applications."}),(0,r.jsxs)(c.r,{href:"https://docs.chain.link/docs/make-a-http-get-request/",isExternal:!0,children:["Learn More ",(0,r.jsx)(u.h0,{mx:"2px"})]})]})]})}},83891:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/external-api",function(){return t(63342)}])}},function(e){e.O(0,[774,238,878,597,888,179],(function(){return n=83891,e(e.s=n);var n}));var n=e.O();_N_E=n}]);