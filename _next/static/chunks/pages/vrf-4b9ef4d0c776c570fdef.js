(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[644],{74083:function(e,t,n){"use strict";n.d(t,{j:function(){return i}});var r=n(85893),s=(n(67294),n(27302));function i(e){var t=e.message;return(0,r.jsxs)(s.bZ,{status:"error",mb:"8",children:[(0,r.jsx)(s.zM,{}),(0,r.jsx)(s.Cd,{mr:2,children:"Error:"}),(0,r.jsx)(s.X,{children:t})]})}},124:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var r=n(85893),s=n(96156),i=n(9008),c=n(11163);n(67294);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var o="https://nextjs-ethereum-starter.vercel.app/",u=function(e){var t=e.customMeta,n=(0,c.useRouter)(),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:"Next.js Ethereum Starter",description:"Ethers.js - Hardhat - Next.js - Typescript",image:"".concat(o,"/images/site-preview.png"),type:"website"},t);return(0,r.jsxs)(i.default,{children:[(0,r.jsx)("title",{children:u.title}),(0,r.jsx)("meta",{content:u.description,name:"description"}),(0,r.jsx)("meta",{property:"og:url",content:"".concat(o).concat(n.asPath)}),(0,r.jsx)("link",{rel:"canonical",href:"".concat(o).concat(n.asPath)}),(0,r.jsx)("meta",{property:"og:type",content:u.type}),(0,r.jsx)("meta",{property:"og:site_name",content:"Next.js Ethereum Starter"}),(0,r.jsx)("meta",{property:"og:description",content:u.description}),(0,r.jsx)("meta",{property:"og:title",content:u.title}),(0,r.jsx)("meta",{property:"og:image",content:u.image}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@hackbg"}),(0,r.jsx)("meta",{name:"twitter:title",content:u.title}),(0,r.jsx)("meta",{name:"twitter:description",content:u.description}),(0,r.jsx)("meta",{name:"twitter:image",content:u.image})]})}},82356:function(e,t,n){"use strict";n.d(t,{A:function(){return _}});var r=n(85893),s=n(53850),i=n(43663),c=n(94096),a=n(49444),o=n(78482),u=n(60037),l=n(56185),d=n(27302),f=n(48017),x=n(57495),h=n(62436),p=n(67809),j=n.n(p),m=n(35063),g=n(67294),v=n(99056),b=n(64115),w=n(74696),y=n(588);function k(){var e=(0,x.K)().account,t=(0,w.M)(e),n=t?y.dF(t):"";return(0,r.jsxs)(b.x,{children:[n," ETH"]})}var S=n(74860),O=n(61422),C="https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",E="https://rinkeby.infura.io/v3/84842078b09946638c03157f83405213",R=new(n(83929).zw)({rpc:{1:C,4:E},qrcode:!0,pollingInterval:12e3});function P(){var e=(0,x.K)(),t=e.activate,n=e.activateBrowserWallet,s=(0,S.q)(),i=s.onOpen,c=s.isOpen,a=s.onClose;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.xu,{order:[-1,null,null,2],textAlign:["left",null,null,"right"],children:(0,r.jsx)(l.z,{colorScheme:"teal",variant:"outline",onClick:i,children:"Connect to a wallet"})}),(0,r.jsxs)(O.u_,{isOpen:c,onClose:a,children:[(0,r.jsx)(O.ZA,{}),(0,r.jsxs)(O.hz,{children:[(0,r.jsx)(O.xB,{children:"Connect to a wallet"}),(0,r.jsx)(O.ol,{}),(0,r.jsxs)(O.fe,{children:[(0,r.jsx)(l.z,{justifyContent:"space-between",width:"100%",mb:"4",size:"lg",variant:"outline",rightIcon:(0,r.jsx)(o.E,{maxWidth:"20px",src:"/images/logo-metamask.png",alt:"MetaMask"}),onClick:function(){n(),a()},children:"MetaMask"}),(0,r.jsx)(l.z,{justifyContent:"space-between",width:"100%",mb:"4",size:"lg",variant:"outline",rightIcon:(0,r.jsx)(o.E,{maxWidth:"20px",src:"/images/logo-walletconnect.svg",alt:"WalletConnect"}),onClick:function(){t(R)},children:"WalletConnect"})]})]})]})]})}var M=n(124),N=n(74083),F={transactionStarted:"Started",transactionSucceed:"Completed"};function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:38;return e.replace(e.substring(6,t),"...")}var _=function(e){var t,n=e.children,p=e.customMeta,b=(0,x.K)(),w=b.account,y=b.deactivate,S=b.error,O=b.setError,C=(0,h.z)().notifications;return(0,g.useEffect)((function(){S&&O(S)}),[S,O]),t=j().create({seed:w}).toDataURL(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M.F,{customMeta:p}),(0,r.jsx)("header",{children:(0,r.jsx)(s.W,{maxWidth:"container.xl",children:(0,r.jsxs)(i.M,{columns:[1,1,1,2],alignItems:"center",justifyContent:"space-between",py:"8",children:[(0,r.jsxs)(c.k,{py:[4,null,null,0],children:[(0,r.jsx)(m.default,{href:"/",passHref:!0,children:(0,r.jsx)(a.r,{px:"4",py:"1",children:"Home"})}),(0,r.jsx)(m.default,{href:"/feeds",passHref:!0,children:(0,r.jsx)(a.r,{px:"4",py:"1",children:"Data Feeds"})}),(0,r.jsx)(m.default,{href:"/vrf",passHref:!0,children:(0,r.jsx)(a.r,{px:"4",py:"1",children:"VRF"})}),(0,r.jsx)(m.default,{href:"/external-api",passHref:!0,children:(0,r.jsx)(a.r,{px:"4",py:"1",children:"External API"})})]}),w?(0,r.jsxs)(c.k,{order:[-1,null,null,2],alignItems:"center",justifyContent:["flex-start",null,null,"flex-end"],children:[(0,r.jsx)(k,{}),(0,r.jsx)(o.E,{ml:"4",src:t,alt:"blockie"}),(0,r.jsxs)(u.v2,{placement:"bottom-end",children:[(0,r.jsx)(u.j2,{as:l.z,ml:"4",children:z(w)}),(0,r.jsx)(u.qy,{children:(0,r.jsx)(u.sN,{onClick:function(){y()},children:"Disconnect"})})]})]}):(0,r.jsx)(P,{})]})})}),(0,r.jsx)("main",{children:(0,r.jsxs)(s.W,{maxWidth:"container.xl",children:[S&&(0,r.jsx)(N.j,{message:(0,v.e$)(S)}),n,C.map((function(e){return"walletConnected"===e.type?null:(0,r.jsxs)(d.bZ,{status:"success",position:"fixed",bottom:"8",right:"8",width:"400px",children:[(0,r.jsx)(d.zM,{}),(0,r.jsxs)(f.xu,{children:[(0,r.jsxs)(d.Cd,{children:[e.transactionName," ",F[e.type]]}),(0,r.jsxs)(d.X,{overflow:"hidden",children:["Transaction Hash:"," ",z(e.transaction.hash,61)]})]})]},e.id)}))]})}),(0,r.jsx)("footer",{children:(0,r.jsx)(s.W,{mt:"8",py:"8",maxWidth:"container.xl",children:(0,r.jsx)(a.r,{href:"https://github.com/hackbg",children:"GitHub"})})})]})}},30677:function(e,t,n){"use strict";n.d(t,{Ar:function(){return r.A},$0:function(){return o}});var r=n(82356),s=(n(124),n(96156)),i=n(85893),c=(n(67294),n(48017));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var o=function(e){return(0,i.jsx)(c.xu,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({maxWidth:"container.sm",p:"8",mt:"8",bg:"gray.100"},e))}},63533:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(57495),s=n(77785),i=n(67294),c=n(26705);function a(e){var t=(0,r.K)(),n=t.library,a=t.chainId,o=a&&c.Pl[a][e];return(0,i.useMemo)((function(){return n&&o.address?new s.CH(o.address,o.abi,n.getSigner()):null}),[o,n])}},99056:function(e,t,n){"use strict";n.d(t,{e$:function(){return a},jl:function(){return u},gC:function(){return d},Yg:function(){return f}});var r=n(93315),s=n(27391),i=n(30950),c=n(83929);function a(e){return e instanceof i.A5?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof s.Uu?"You're connected to an unsupported network. Please switch to Kovan or Rinkeby.":e instanceof i.ab||e instanceof c.ab?"Please authorize this website to access your Ethereum account.":(console.error(e),"An unknown error occurred. Check the console for more details.")}var o=new r.F("Bitcoin","BTC",8,{fixedPrecisionDigits:2,useFixedPrecision:!0}),u=function(e){return o.format(e.toString())},l=new r.W6("United States Dollar","USD",8,{fixedPrecisionDigits:2}),d=function(e){return l.format(e.toString())},f=function(e){return"Mining"===e?"Mining Request":"Success"===e&&"Fulfilling Request"}},33330:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return P}});var r=n(85893),s=n(67294),i=n(336),c=n(30677),a=n(87757),o=n.n(a),u=n(92137),l=n(56185),d=n(86034),f=n(64115),x=n(47922),h=n(29583),p=n(99056),j=n(63533),m=n(26705),g=n(74083);function v(){var e=(0,s.useState)(""),t=e[0],n=e[1],i=(0,s.useState)(""),c=i[0],a=i[1],v=(0,j.c)(m.xo.RandomNumberConsumer),b=(0,h.j)(v,"getRandomNumber",{transactionName:"Randomness Request"}),w=b.send,y=b.state,k=b.events,S=function(){var e=(0,u.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:a("");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=(0,s.useCallback)((0,u.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.randomResult();case 2:t=e.sent,a(String(t));case 4:case"end":return e.stop()}}),e)}))),[v]);(0,s.useEffect)((function(){if(k){var e=k.find((function(e){return"RequestedRandomness"===e.name}));e&&n(e.args.requestId)}}),[k]),(0,s.useEffect)((function(){v&&t&&v.on("FulfilledRandomness",(function(e){t===e&&(O(),v.removeAllListeners())}))}),[v,t,O]);var C="Mining"===y.status||"Success"===y.status&&!c,E="Exception"===y.status;return(0,r.jsxs)(r.Fragment,{children:[E&&(0,r.jsx)(g.j,{message:y.errorMessage}),(0,r.jsx)(l.z,{onClick:S,isLoading:C,loadingText:(0,p.Yg)(y.status),colorScheme:"teal",children:"Request Randomness"}),c&&(0,r.jsxs)(d.Kq,{spacing:2,mt:4,children:[(0,r.jsx)(f.x,{fontSize:"xl",children:"Result"}),(0,r.jsx)(x.E,{size:"xs",colorScheme:"red",children:c})]})]})}var b=n(78482),w=n(49444),y=n(52072),k=n(46267),S=n(57495),O=k.a_.Rinkeby,C=function(e){var t=m.Pl[O].randomSvg.address;return"".concat("https://testnets.opensea.io","/assets/").concat(t,"/").concat(e)};function E(e){var t=e.tokenId;return(0,S.K)().chainId===O&&(0,r.jsxs)(w.r,{href:C(t),isExternal:!0,children:["See on OpenSea Testnet Marketplace ",(0,r.jsx)(y.h0,{mx:"2px"})]})}function R(){var e=(0,s.useState)(!1),t=e[0],n=e[1],i=(0,s.useState)(!1),c=i[0],a=i[1],x=(0,s.useState)(),v=x[0],w=x[1],y=(0,s.useState)(),k=y[0],S=y[1],O=(0,j.c)(m.xo.RandomSvg),C=(0,h.j)(O,"create",{transactionName:"NFT Request"}),R=C.send,P=C.state,M=C.events,N=(0,h.j)(O,"finishMint",{transactionName:"NFT Mint Finish"}),F=N.send,z=N.state,_=N.events,q=function(){var e=(0,u.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:w(void 0),a(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=(0,s.useCallback)((0,u.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.tokenURI(v);case 2:return t=e.sent,e.abrupt("return",(n=t,JSON.parse(atob(n.split(",")[1]))));case 4:case"end":return e.stop()}var n}),e)}))),[O,v]);(0,s.useEffect)((function(){if(M){var e=M.find((function(e){return"requestedRandomSVG"===e.name}));e&&w(e.args.tokenId)}}),[M]),(0,s.useEffect)((function(){O&&v&&O.on("CreatedUnfinishedRandomSVG",(function(e){v.eq(e)&&(a(!0),n(!0),O.removeAllListeners())}))}),[O,v]),(0,s.useEffect)((function(){_&&_.find((function(e){return"CreatedRandomSVG"===e.name}))&&D().then((function(e){S(e),n(!1)}))}),[_,D]);var T="Mining"===P.status||"Success"===P.status&&!c,I="Mining"===z.status||"Success"===z.status&&!k,W="Exception"===P.status||"Exception"===z.status,A=P.errorMessage||z.errorMessage;return(0,r.jsxs)(r.Fragment,{children:[W&&(0,r.jsx)(g.j,{message:A}),!t&&(0,r.jsx)(l.z,{onClick:q,isLoading:T,loadingText:(0,p.Yg)(P.status),colorScheme:"teal",children:k?"Request New NFT":"Request NFT"}),t&&(0,r.jsx)(l.z,{onClick:function(){return F(v)},isLoading:I,loadingText:"Finishing Minting",colorScheme:"teal",children:"Finish Minting"}),k&&(0,r.jsxs)(d.Kq,{spacing:2,mt:4,children:[(0,r.jsx)(f.x,{fontSize:"xl",children:"Result"}),(0,r.jsx)(b.E,{src:k.image,alt:"Random SVG",boxSize:"360px",backgroundColor:"white",borderRadius:"lg",mt:"8"}),(0,r.jsx)(E,{tokenId:v})]})]})}var P=function(){return(0,r.jsxs)(c.Ar,{children:[(0,r.jsx)(i.X,{as:"h1",mb:"8",children:"VRF"}),(0,r.jsx)(c.$0,{children:(0,r.jsx)(v,{})}),(0,r.jsx)(c.$0,{children:(0,r.jsx)(R,{})})]})}},75633:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/vrf",function(){return n(33330)}])}},function(e){e.O(0,[774,238,772,888,179],(function(){return t=75633,e(e.s=t);var t}));var t=e.O();_N_E=t}]);