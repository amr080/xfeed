(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[182],{92137:function(e,t,n){"use strict";function r(e,t,n,r,i,s,a){try{var c=e[s](a),o=c.value}catch(u){return void n(u)}c.done?t(o):Promise.resolve(o).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,s){var a=e.apply(t,n);function c(e){r(a,i,s,c,o,"next",e)}function o(e){r(a,i,s,c,o,"throw",e)}c(void 0)}))}}n.d(t,{Z:function(){return i}})},336:function(e,t,n){"use strict";n.d(t,{X:function(){return d}});var r=n(90063),i=n(2326),s=n(55284),a=n(69480),c=n(84461),o=n(73808),u=n(67294);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var d=(0,r.G)(((e,t)=>{var n=(0,i.m)("Heading",e),r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}((0,s.Lr)(e),["className"]);return u.createElement(a.m$.h2,l({ref:t,className:(0,c.cx)("chakra-heading",e.className)},r,{__css:n}))}));o.Ts&&(d.displayName="Heading")},29583:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(67294),i=n(57495),s=n(8102);function a(e,t,n){const{library:a,chainId:c}=(0,i.K)(),{promiseTransaction:o,state:u}=function(e,t){const[n,i]=(0,r.useState)({status:"None"}),{addTransaction:a}=(0,s.W)();return{promiseTransaction:(0,r.useCallback)((async n=>{var r,s,c,o,u;if(!e)return;let l;try{l=await n,i({transaction:l,status:"Mining",chainId:e}),a({transaction:Object.assign(Object.assign({},l),{chainId:e}),submittedAt:Date.now(),transactionName:null===t||void 0===t?void 0:t.transactionName});const r=await l.wait();return i({receipt:r,transaction:l,status:"Success",chainId:e}),r}catch(d){const t=null!==(u=null!==(c=null!==(s=null===(r=d.error)||void 0===r?void 0:r.message)&&void 0!==s?s:d.reason)&&void 0!==c?c:null===(o=d.data)||void 0===o?void 0:o.message)&&void 0!==u?u:d.message;return void i(l?{status:"Fail",transaction:l,receipt:d.receipt,errorMessage:t,chainId:e}:{status:"Exception",errorMessage:t,chainId:e})}}),[e,i,a,t]),state:n}}(c,n),[l,d]=(0,r.useState)(void 0);return{send:(0,r.useCallback)((async(...r)=>{const i=function(e,t,n){if(e.signer)return e;if(null===t||void 0===t?void 0:t.signer)return e.connect(t.signer);if(null===n||void 0===n?void 0:n.getSigner())return e.connect(n.getSigner());throw new TypeError("No signer available in contract, options or library")}(e,n,a),s=await o(i[t](...r));if(null===s||void 0===s?void 0:s.logs){const t=s.logs.filter((t=>t.address===e.address)).map((t=>e.interface.parseLog(t)));d(t)}}),[e,t,n,a]),state:u,events:l}}},74083:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(85893),i=(n(67294),n(27302));function s(e){var t=e.message;return(0,r.jsxs)(i.bZ,{status:"error",mb:"8",children:[(0,r.jsx)(i.zM,{}),(0,r.jsx)(i.Cd,{mr:2,children:"Error:"}),(0,r.jsx)(i.X,{children:t})]})}},124:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var r=n(85893),i=n(96156),s=n(9008),a=n(11163);n(67294);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var o="https://nextjs-ethereum-starter.vercel.app/",u=function(e){var t=e.customMeta,n=(0,a.useRouter)(),u=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({title:"Next.js Ethereum Starter",description:"Ethers.js - Hardhat - Next.js - Typescript",image:"".concat(o,"/images/site-preview.png"),type:"website"},t);return(0,r.jsxs)(s.default,{children:[(0,r.jsx)("title",{children:u.title}),(0,r.jsx)("meta",{content:u.description,name:"description"}),(0,r.jsx)("meta",{property:"og:url",content:"".concat(o).concat(n.asPath)}),(0,r.jsx)("link",{rel:"canonical",href:"".concat(o).concat(n.asPath)}),(0,r.jsx)("meta",{property:"og:type",content:u.type}),(0,r.jsx)("meta",{property:"og:site_name",content:"Next.js Ethereum Starter"}),(0,r.jsx)("meta",{property:"og:description",content:u.description}),(0,r.jsx)("meta",{property:"og:title",content:u.title}),(0,r.jsx)("meta",{property:"og:image",content:u.image}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:site",content:"@hackbg"}),(0,r.jsx)("meta",{name:"twitter:title",content:u.title}),(0,r.jsx)("meta",{name:"twitter:description",content:u.description}),(0,r.jsx)("meta",{name:"twitter:image",content:u.image})]})}},82356:function(e,t,n){"use strict";n.d(t,{A:function(){return z}});var r=n(85893),i=n(53850),s=n(43663),a=n(94096),c=n(49444),o=n(78482),u=n(60037),l=n(56185),d=n(27302),f=n(48017),h=n(57495),m=n(62436),x=n(67809),p=n.n(x),j=n(35063),g=n(67294),v=n(99056),b=n(64115),w=n(74696),y=n(588);function k(){var e=(0,h.K)().account,t=(0,w.M)(e),n=t?y.dF(t):"";return(0,r.jsxs)(b.x,{children:[n," ETH"]})}var C=n(74860),O=n(61422),E="https://mainnet.infura.io/v3/84842078b09946638c03157f83405213",P="https://rinkeby.infura.io/v3/84842078b09946638c03157f83405213",S=new(n(83929).zw)({rpc:{1:E,4:P},qrcode:!0,pollingInterval:12e3});function M(){var e=(0,h.K)(),t=e.activate,n=e.activateBrowserWallet,i=(0,C.q)(),s=i.onOpen,a=i.isOpen,c=i.onClose;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.xu,{order:[-1,null,null,2],textAlign:["left",null,null,"right"],children:(0,r.jsx)(l.z,{colorScheme:"teal",variant:"outline",onClick:s,children:"Connect to a wallet"})}),(0,r.jsxs)(O.u_,{isOpen:a,onClose:c,children:[(0,r.jsx)(O.ZA,{}),(0,r.jsxs)(O.hz,{children:[(0,r.jsx)(O.xB,{children:"Connect to a wallet"}),(0,r.jsx)(O.ol,{}),(0,r.jsxs)(O.fe,{children:[(0,r.jsx)(l.z,{justifyContent:"space-between",width:"100%",mb:"4",size:"lg",variant:"outline",rightIcon:(0,r.jsx)(o.E,{maxWidth:"20px",src:"/images/logo-metamask.png",alt:"MetaMask"}),onClick:function(){n(),c()},children:"MetaMask"}),(0,r.jsx)(l.z,{justifyContent:"space-between",width:"100%",mb:"4",size:"lg",variant:"outline",rightIcon:(0,r.jsx)(o.E,{maxWidth:"20px",src:"/images/logo-walletconnect.svg",alt:"WalletConnect"}),onClick:function(){t(S)},children:"WalletConnect"})]})]})]})]})}var N=n(124),_=n(74083),F={transactionStarted:"Started",transactionSucceed:"Completed"};function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:38;return e.replace(e.substring(6,t),"...")}var z=function(e){var t,n=e.children,x=e.customMeta,b=(0,h.K)(),w=b.account,y=b.deactivate,C=b.error,O=b.setError,E=(0,m.z)().notifications;return(0,g.useEffect)((function(){C&&O(C)}),[C,O]),t=p().create({seed:w}).toDataURL(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.F,{customMeta:x}),(0,r.jsx)("header",{children:(0,r.jsx)(i.W,{maxWidth:"container.xl",children:(0,r.jsxs)(s.M,{columns:[1,1,1,2],alignItems:"center",justifyContent:"space-between",py:"8",children:[(0,r.jsxs)(a.k,{py:[4,null,null,0],children:[(0,r.jsx)(j.default,{href:"/",passHref:!0,children:(0,r.jsx)(c.r,{px:"4",py:"1",children:"Home"})}),(0,r.jsx)(j.default,{href:"/feeds",passHref:!0,children:(0,r.jsx)(c.r,{px:"4",py:"1",children:"Data Feeds"})}),(0,r.jsx)(j.default,{href:"/vrf",passHref:!0,children:(0,r.jsx)(c.r,{px:"4",py:"1",children:"VRF"})}),(0,r.jsx)(j.default,{href:"/external-api",passHref:!0,children:(0,r.jsx)(c.r,{px:"4",py:"1",children:"External API"})})]}),w?(0,r.jsxs)(a.k,{order:[-1,null,null,2],alignItems:"center",justifyContent:["flex-start",null,null,"flex-end"],children:[(0,r.jsx)(k,{}),(0,r.jsx)(o.E,{ml:"4",src:t,alt:"blockie"}),(0,r.jsxs)(u.v2,{placement:"bottom-end",children:[(0,r.jsx)(u.j2,{as:l.z,ml:"4",children:I(w)}),(0,r.jsx)(u.qy,{children:(0,r.jsx)(u.sN,{onClick:function(){y()},children:"Disconnect"})})]})]}):(0,r.jsx)(M,{})]})})}),(0,r.jsx)("main",{children:(0,r.jsxs)(i.W,{maxWidth:"container.xl",children:[C&&(0,r.jsx)(_.j,{message:(0,v.e$)(C)}),n,E.map((function(e){return"walletConnected"===e.type?null:(0,r.jsxs)(d.bZ,{status:"success",position:"fixed",bottom:"8",right:"8",width:"400px",children:[(0,r.jsx)(d.zM,{}),(0,r.jsxs)(f.xu,{children:[(0,r.jsxs)(d.Cd,{children:[e.transactionName," ",F[e.type]]}),(0,r.jsxs)(d.X,{overflow:"hidden",children:["Transaction Hash:"," ",I(e.transaction.hash,61)]})]})]},e.id)}))]})}),(0,r.jsx)("footer",{children:(0,r.jsx)(i.W,{mt:"8",py:"8",maxWidth:"container.xl",children:(0,r.jsx)(c.r,{href:"https://github.com/hackbg",children:"GitHub"})})})]})}},63533:function(e,t,n){"use strict";n.d(t,{c:function(){return c}});var r=n(57495),i=n(77785),s=n(67294),a=n(26705);function c(e){var t=(0,r.K)(),n=t.library,c=t.chainId,o=c&&a.Pl[c][e];return(0,s.useMemo)((function(){return n&&o.address?new i.CH(o.address,o.abi,n.getSigner()):null}),[o,n])}},99056:function(e,t,n){"use strict";n.d(t,{e$:function(){return c},jl:function(){return u},gC:function(){return d},Yg:function(){return f}});var r=n(93315),i=n(27391),s=n(30950),a=n(83929);function c(e){return e instanceof s.A5?"No Ethereum browser extension detected, install MetaMask on desktop or visit from a dApp browser on mobile.":e instanceof i.Uu?"You're connected to an unsupported network. Please switch to Kovan or Rinkeby.":e instanceof s.ab||e instanceof a.ab?"Please authorize this website to access your Ethereum account.":(console.error(e),"An unknown error occurred. Check the console for more details.")}var o=new r.F("Bitcoin","BTC",8,{fixedPrecisionDigits:2,useFixedPrecision:!0}),u=function(e){return o.format(e.toString())},l=new r.W6("United States Dollar","USD",8,{fixedPrecisionDigits:2}),d=function(e){return l.format(e.toString())},f=function(e){return"Mining"===e?"Mining Request":"Success"===e&&"Fulfilling Request"}},65655:function(e,t,n){"use strict";n.r(t);var r=n(85893),i=n(87757),s=n.n(i),a=n(92137),c=n(67294),o=n(336),u=n(48017),l=n(56185),d=n(64115),f=n(57495),h=n(29583),m=n(46267),x=n(588),p=n(63533),j=n(26705),g=n(82356),v=n(74083),b=new Intl.NumberFormat("en-us",{minimumFractionDigits:4,maximumFractionDigits:4});t.default=function(){var e=(0,c.useState)(""),t=e[0],n=e[1],i=(0,c.useState)(),w=i[0],y=i[1],k=(0,f.K)().chainId,C=(0,p.c)(j.xo.ApiConsumer),O=(0,h.j)(C,"requestVolumeData",{transactionName:"External API Request"}),E=O.send,P=O.state,S=O.events,M=function(){var e=(0,a.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:y(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=(0,c.useCallback)((0,a.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.volume();case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)}))),[C]);(0,c.useEffect)((function(){if(S){var e=S.find((function(e){return"ChainlinkRequested"===e.name}));e&&n(e.args.id)}}),[S]),(0,c.useEffect)((function(){C&&t&&C.on("ChainlinkFulfilled",(function(e){t===e&&(N(),C.removeAllListeners())}))}),[C,t,N]);var _,F,I="Mining"===P.status||"Success"===P.status&&!w,z="Exception"===P.status;return(0,r.jsxs)(g.A,{children:[(0,r.jsx)(o.X,{as:"h1",mb:"8",children:"External API"}),k===m.a_.Rinkeby&&(0,r.jsx)(v.j,{message:"Oracle on Rinkeby is in maintenance mode. Please switch to Kovan."}),(0,r.jsxs)(u.xu,{maxWidth:"container.sm",p:"8",mt:"8",bg:"gray.100",children:[z&&(0,r.jsx)(v.j,{message:P.errorMessage}),(0,r.jsx)(o.X,{as:"h2",size:"md",mb:"4",children:"Volume data from CryptoCompare API"}),(0,r.jsx)(l.z,{onClick:M,isLoading:I,loadingText:(F=P.status,"Mining"===F?"Mining Request":"Success"===F&&"Fulfilling Request"),colorScheme:"teal",children:"New Oracle Request"}),w&&(0,r.jsxs)(d.x,{fontSize:"xl",mt:"2",children:["ETH VOLUME 24H: ",(_=w,b.format(parseFloat(x.dF(_))))]})]})]})}},83891:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/external-api",function(){return n(65655)}])}},function(e){e.O(0,[774,238,888,179],(function(){return t=83891,e(e.s=t);var t}));var t=e.O();_N_E=t}]);